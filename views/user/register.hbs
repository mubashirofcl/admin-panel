<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sign Up</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/style/user/userRegister.css">
</head>

<body>
    <div class="signup-card">
        <div class="signup-icon">
            <i class="fas fa-user-plus"></i>
        </div>

        <h5>Create an Account</h5>
        <p>Join us to bring your words, data, and teams together. It's free!</p>

        {{#if message}}
        <div class="alert alert-secondary">{{message}}</div>
        {{/if}}



        <form onsubmit="return formValidate()" method="post" action="/user/register">
            <input type="text" id="name" name="name" class="form-control" placeholder="Full Name">
            <input type="email" id="email" name="email" class="form-control" placeholder="Email">
            <input type="password" id="password" name="password" class="form-control" placeholder="Password">
            <input type="password" id="confirmPassword" name="confirmPassword" class="form-control"
                placeholder="Confirm Password">

            <div id="formError" class="error-msg"></div>

            <button type="submit" class="btn btn-dark mt-3">Sign Up</button>
        </form>

        <div class="social-login">Or sign up with</div>
        <div class="social-icons">
            <img src="https://img.icons8.com/color/48/google-logo.png" alt="Google" class="social-icon">
            <img src="https://img.icons8.com/fluency/48/facebook-new.png" alt="Facebook" class="social-icon">
            <img src="https://img.icons8.com/ios-filled/50/mac-os.png" alt="Apple" class="social-icon">
        </div>



        <div class="signin-link">
            Already have an account? <a href="login">Sign in</a>
        </div>
    </div>

    <script>

        function formValidate() {
            let name = document.getElementById("name").value.trim();
            let email = document.getElementById("email").value.trim();
            let password = document.getElementById("password").value.trim();
            let confirmPassword = document.getElementById("confirmPassword").value.trim();

            let errorBox = document.getElementById("formError");
            errorBox.innerText = "";

            let nameRegex = /^[A-Za-z\s]{3,50}$/;
            let emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            let passwordRegex = /^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d!@#$%^&*]{6,}$/;

            if (!nameRegex.test(name)) {
                errorBox.innerText = "Enter a valid name (only letters, min 3 chars).";
                return false;
            }

            if (!emailRegex.test(email)) {
                errorBox.innerText = "Enter a valid email address.";
                return false;
            }

            if (!passwordRegex.test(password)) {
                errorBox.innerText = "Password must be at least 6 characters, include a letter and a number.";
                return false;
            }

            if (password !== confirmPassword) {
                errorBox.innerText = "Passwords do not match.";
                return false;
            }

            return true;
        }


        const socialIcons = document.querySelectorAll(".social-icon");
        socialIcons.forEach(icon => {
            icon.addEventListener("click", function () {
                const errorBox = document.getElementById("formError");
                errorBox.innerText = "Please sign up using your email instead.";
            });
        });
    </script>


    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/js/all.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>